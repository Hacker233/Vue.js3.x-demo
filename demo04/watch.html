<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>监听器/侦听器</title>
		<script src="https://unpkg.com/vue@next"></script>
	</head>
	<body>
		<div id="app"></div>
	</body>
	<script type="text/javascript">
		const options = {
			data() {
				return {
					message: 'watch',
					count: 0
				}
			},
			watch: {
				message(newVal, oldVal) {
					console.log("变化后的值：" + newVal)
					console.log("变化前的值：" + oldVal)
					this.count++
				}
			},
			template: `
				<h1>{{message}}</h1>
				<h1>反转次数：{{count}}</h1>
				<button @click="reverseMessage">反转</button>
			`,
			methods: {
				reverseMessage() {
					this.message = this.message.split('').reverse().join('')
				}
			}
		}
		const app = Vue.createApp(options)
		app.mount('#app')
	</script>
</html>
